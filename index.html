<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>william</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            margin: 0; padding: 0; height: 100vh; 
            display: flex; justify-content: center; align-items: center; 
            background: url('image.jpg') no-repeat center center fixed; 
            background-size: cover; background-color: #000; 
            overflow: hidden; font-family: 'Montserrat', sans-serif; 
        }

        /* --- شاشة البصمة --- */
        #welcomeScreen { 
            position: fixed; inset: 0; background: #0f0a07; 
            z-index: 9999; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; transition: opacity 0.8s ease; 
        }
        #status-text { margin-top: 25px; font-size: 20px; color: #8a7a6e; font-weight: bold; }
        #fingerprintContainer { 
            position: relative; width: 110px; height: 140px; cursor: pointer; 
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 25px; 
            display: flex; justify-content: center; align-items: center; background: rgba(255,255,255,0.03); 
        }
        #fp-svg { width: 75px; fill: #ff4e4e; filter: drop-shadow(0 0 8px #ff4e4e); transition: all 0.4s ease; }
        .scanner-line { 
            position: absolute; width: 100%; height: 2px; background: #00f2ff; 
            box-shadow: 0 0 15px #00f2ff; animation: scan 2s linear infinite; 
        }
        @keyframes scan { 0%, 100% { top: 15%; } 50% { top: 85%; } }

        /* --- المربع (تحسين الظهور والسلاسة) --- */
        .overlay { 
            position: relative; z-index: 10; 
            width: 85%; max-width: 340px; 
            height: 220px; /* طول مناسب لظهور 3 جمل */
            padding: 10px; border-radius: 35px; 
            display: none; flex-direction: column; 
            background: rgba(0, 0, 0, 0.55); 
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1); 
            overflow: hidden; opacity: 0; transition: opacity 1s ease; 
        }

        #lyricsContainer {
            width: 100%; height: 100%;
            position: relative;
            text-align: center;
            transform: translateZ(0);
        }

        #scrollWrapper {
            position: absolute; width: 100%; top: 0;
            transition: transform 0.7s cubic-bezier(0.2, 1, 0.3, 1);
            will-change: transform;
            transform: translateZ(0);
        }

        .lyric-line {
            font-size: 16px; 
            margin: 40px 0; /* مسافة متباعدة */
            color: rgba(255, 255, 255, 0.25); /* باهتة لكن ظاهرة */
            transition: all 0.6s ease;
            font-weight: 500;
            will-change: transform, opacity, font-size;
        }

        /* الجملة النشطة: مضيئة وتظهر بوضوح تام */
        .lyric-line.active {
            font-size: 21px; 
            color: #ffffff; 
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.7); 
            opacity: 1; 
            transform: scale(1.1) translateZ(0);
        }
    </style>
</head>
<body>

    <div id="welcomeScreen">
        <div id="fingerprintContainer">
            <div class="scanner-line"></div>
            <svg id="fp-svg" viewBox="0 0 24 24"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.67-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 5.57 1.39.24.14.32.45.19.69-.1.17-.28.27-.47.27-.14 0-.27-.04-.39-.11zM3.51 9.77c-.14 0-.28-.06-.38-.17-.19-.21-.17-.53.04-.72C5.02 7.22 7.27 6.13 9.61 5.61c.27-.06.54.11.6.38.06.27-.11.54-.38.6-2.09.46-4.1 1.44-5.81 2.98-.14.12-.31.18-.51.18zm17.02 0c-.2 0-.37-.06-.51-.18-1.71-1.54-3.72-2.52-5.81-2.98-.27-.06-.44-.33-.38-.6.06-.27.33-.44.6-.38 2.34.52 4.59 1.61 6.44 3.29.21.19.23.51.04.72-.1.11-.24.17-.38.17zM12.01 7c-1.28 0-2.55.22-3.77.67-.25.09-.53-.04-.62-.29-.09-.25.04-.53.29-.62 1.37-.51 2.82-.76 4.1-.76 1.28 0 2.73.25 4.1.76.25.09.38.37.29.62-.09.25-.37.38-.62.29-1.22-.45-2.49-.67-3.77-.67zm0 14c-4.41 0-8-3.59-8-8 0-.28.22-.5.5-.5s.5.22.5.5c0 3.86 3.14 7 7 7s7-3.14 7-7c0-2.5-.54-4.82-1.51-6.91-.12-.25-.01-.55.24-.67.25-.12.55-.01.67.24C19.45 8.04 20.01 10.45 20.01 13c0 4.41-3.59 8-8 8zm-5.01-8c0-2.76 2.24-5 5-5s5 2.24 5 5c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.21-1.79-4-4-4s-4 1.79-4 4c0 .28-.22.5-.5.5s-.5-.22-.5-.5z"/></svg>
        </div>
        <p id="status-text">البصمه مطلوبة</p>
    </div>

    <audio id="mySong"><source src="https://files.catbox.moe/wzomxn.mp3" type="audio/mpeg"></audio>

    <div class="overlay" id="lyricsOverlay">
        <div id="lyricsContainer">
            <div id="scrollWrapper"></div>
        </div>
    </div>

    <script>
        const song = document.getElementById('mySong');
        const syncData = [
            { time: 0.0, text: "you know, I will adore you" },
            { time: 3.5, text: "'til eternity (ah)" },
            { time: 6.0, text: "So won't you, please" },
            { time: 8.0, text: "(be my, be my baby)" },
            { time: 10.0, text: "?Be my little baby" },
            { time: 12.2, text: "(My one, and only baby)" },
            { time: 15.0, text: "Say you'll be my darlin'" },
            { time: 16.7, text: "(be my, be my baby)" },
            { time: 19.1, text: "Be my baby now" },
            { time: 21.0, text: "(my one, and only baby)" },
            { time: 22.5, text: "Whoa, oh, oh, oh, oh" },
            { time: 24.5, text: "(Ooh-ooh, ooh, ooh)" }
        ];

        const wrapper = document.getElementById('scrollWrapper');
        syncData.forEach((item, index) => {
            const el = document.createElement('div');
            el.className = 'lyric-line';
            el.innerText = item.text;
            el.id = 'line-' + index;
            wrapper.appendChild(el);
        });

        document.getElementById('fingerprintContainer').onclick = function() {
    const status = document.getElementById('status-text');
    const fp = document.getElementById('fp-svg');
    
    // 1. مرحلة التحقق (بدون موسيقى)
    status.innerText = "جاري التحقق...";
    fp.style.fill = "#00f2ff";
    fp.style.filter = "drop-shadow(0 0 12px #00f2ff)";
    
    setTimeout(() => {
        // 2. مرحلة القبول
        status.innerText = "مرحباً...";
        fp.style.fill = "#4eff9b";
        fp.style.filter = "drop-shadow(0 0 12px #4eff9b)";

        setTimeout(() => {
            // 3. اختفاء الشاشة السوداء
            document.getElementById('welcomeScreen').style.opacity = '0';
            
            setTimeout(() => {
                document.getElementById('welcomeScreen').style.display = 'none';
                
                // 4. إظهار المربع وتشغيل الأغنية (هنا يبدأ الصوت)
                const ov = document.getElementById('lyricsOverlay');
                ov.style.display = 'flex';
                
                setTimeout(() => {
                    ov.style.opacity = '1';
                    song.play(); // بدأت الأغنية هنا بعد كل التأخير
                }, 100);

            }, 800); // وقت تلاشي الشاشة
        }, 1200); // مدة ظهور كلمة "مرحباً ستيلا"
    }, 1500); // مدة "جاري التحقق"
};

        let lastIndex = -1;
        song.ontimeupdate = function() {
            const currentTime = song.currentTime;
            let currentIndex = -1;

            for (let i = 0; i < syncData.length; i++) {
                if (currentTime >= syncData[i].time) {
                    currentIndex = i;
                }
            }

            if (currentIndex !== -1 && currentIndex !== lastIndex) {
                lastIndex = currentIndex;
                const lines = document.querySelectorAll('.lyric-line');
                lines.forEach(l => l.classList.remove('active'));
                
                const activeLine = document.getElementById('line-' + currentIndex);
                activeLine.classList.add('active');
                
                // حساب نقطة المنتصف بدقة (220/2 - ارتفاع الخط تقريباً)
                const centerOffset = 85; 
                const moveY = centerOffset - activeLine.offsetTop;
                wrapper.style.transform = `translateY(${moveY}px) translateZ(0)`;
            }
        };
    </script>
</body>
</html>
